"use strict";function _classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}var _createClass=function(){function e(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}return function(t,n,a){return n&&e(t.prototype,n),a&&e(t,a),t}}();!function(e,t){var n=function(){function t(){var n=this,a=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null;_classCallCheck(this,t);var c=[].slice.apply(a.children),i=document.createElement("div"),s=document.createElement("div");a.styleProcessed=!0,i.classList.add("select-wrapper"),s.classList.add("options-wrapper"),"ontouchstart"in e&&i.classList.add("touch"),a.addEventListener("change",function(){s.querySelector(".active ").classList.remove("active"),s.children[a.selectedIndex].classList.add("active")}),s.addEventListener("click",function(e){if(e.stopPropagation(),s.parentNode.classList.contains("open")){var t;Array.from(s.children).forEach(function(n,a){(n.contains(e.target)||n===e.target)&&(t=a)}),n.set(t),n.close()}else n.open()}),c.forEach(function(e,t){var a='<div class="item'+(e.selected?" active":"")+'"><div class="item-wrapper">'+e.innerHTML+"</div></div>";e.selected&&(n.active=t),s.innerHTML+=a}),i.style.width="calc("+a.clientWidth+"px + 4rem)",a.parentNode.insertBefore(i,a),i.appendChild(a),i.appendChild(s),i.style.height=s.children[this.active].clientHeight+"px",this.element=a,this.wrapper=i,this.optionsWrapper=s,this.options=c}return _createClass(t,[{key:"open",value:function e(){var t=this;this.wrapper.classList.add("open"),this.close=function(){t._close(t)},document.documentElement.addEventListener("click",this.close)}},{key:"close",value:function e(){}},{key:"_close",value:function e(){Array.from(document.querySelectorAll(".select-wrapper.open")).forEach(function(e){return e.classList.remove("open")}),document.documentElement.removeEventListener("click",this.close),this.close=null}},{key:"set",value:function e(t){var n;try{n=new Event("change",{bubbles:!0})}catch(e){n=document.createEvent("Event"),n.initEvent("change",!0,!0)}this.options[t].selected=!0,this.element.dispatchEvent(n)}}]),t}(),a=function e(t){_classCallCheck(this,e);var n=document.createElement("span"),a=n.cloneNode();t.styleProcessed=!0,n.classList.add("form-item-takeover"),n.setAttribute("data-type",t.type),t.parentNode.insertBefore(n,t),n.appendChild(t),n.appendChild(a),a.classList.add("takeover")},c=function(){function t(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Array.from(document.querySelectorAll('select,input[type="checkbox"],input[type="radio"]'));_classCallCheck(this,t),this.elements=[],this.watching=!1,this.add(e)}return _createClass(t,[{key:"add",value:function e(t){var c=this;(Array.isArray(t)?t:[t]).forEach(function(e){"select"===e.tagName.toLowerCase()?c.elements.push(new n(e)):c.elements.push(new a(e))})}},{key:"watch",value:function t(){if("MutationObserver"in e&&!this.watching){var c=[],i=new MutationObserver(function(e){return e.filter(function(e){try{return 1===e.addedNodes[0].nodeType}catch(e){return!1}}).map(function(e){return e.addedNodes[0]}).forEach(function(e){if(!e.styleProcessed){var t=e.tagName&&e.tagName.toLowerCase(),c;"input"===t&&["checkbox","radio"].indexOf(e.type)>-1?c.push(new a(e)):"select"===t&&c.push(new n(e))}}),c});i.observe(document.documentElement,{childList:!0,subtree:!0}),this.watching=!0}}}]),t}();t||(t=e.Framework={}),e.Framework.StyleForm=c}(window,window.Framework);